{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":43,"index":77}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _libSupabase = require(_dependencyMap[1], \"../lib/supabase\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    session: null,\n    loading: false,\n    initialized: false,\n    initialize: async () => {\n      try {\n        set({\n          loading: true\n        });\n\n        // Get current session\n        const {\n          data: {\n            session\n          }\n        } = await _libSupabase.supabase.auth.getSession();\n        if (session) {\n          set({\n            user: session.user,\n            session\n          });\n        }\n\n        // Listen for auth changes\n        _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n          set({\n            user: session?.user || null,\n            session\n          });\n        });\n      } catch (error) {\n        console.error('Auth initialization error:', error);\n      } finally {\n        set({\n          loading: false,\n          initialized: true\n        });\n      }\n    },\n    signInWithPhone: async phone => {\n      try {\n        set({\n          loading: true\n        });\n        const {\n          error\n        } = await _libSupabase.supabase.auth.signInWithOtp({\n          phone\n        });\n        return {\n          error: error\n        };\n      } catch (error) {\n        return {\n          error: error\n        };\n      } finally {\n        set({\n          loading: false\n        });\n      }\n    },\n    verifyOTP: async (phone, token) => {\n      try {\n        set({\n          loading: true\n        });\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.auth.verifyOtp({\n          phone,\n          token,\n          type: 'sms'\n        });\n        if (data.session) {\n          set({\n            user: data.user,\n            session: data.session\n          });\n        }\n        return {\n          error: error\n        };\n      } catch (error) {\n        return {\n          error: error\n        };\n      } finally {\n        set({\n          loading: false\n        });\n      }\n    },\n    signOut: async () => {\n      try {\n        set({\n          loading: true\n        });\n        await _libSupabase.supabase.auth.signOut();\n        set({\n          user: null,\n          session: null\n        });\n      } catch (error) {\n        console.error('Sign out error:', error);\n      } finally {\n        set({\n          loading: false\n        });\n      }\n    },\n    updateProfile: async name => {\n      const {\n        user\n      } = get();\n      if (!user) return;\n      try {\n        await _libSupabase.supabase.from('user_profiles').upsert({\n          id: user.id,\n          name,\n          updated_at: new Date().toISOString()\n        });\n      } catch (error) {\n        console.error('Update profile error:', error);\n      }\n    }\n  }));\n});","lineCount":144,"map":[[7,2,19,0,"Object"],[7,8,19,0],[7,9,19,0,"defineProperty"],[7,23,19,0],[7,24,19,0,"exports"],[7,31,19,0],[8,4,19,0,"enumerable"],[8,14,19,0],[9,4,19,0,"get"],[9,7,19,0],[9,18,19,0,"get"],[9,19,19,0],[10,6,19,0],[10,13,19,0,"useAuthStore"],[10,25,19,0],[11,4,19,0],[12,2,19,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_libSupabase"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,19,7],[15,8,19,13,"useAuthStore"],[15,20,19,25],[15,23,19,28],[15,27,19,28,"create"],[15,35,19,34],[15,36,19,34,"create"],[15,42,19,34],[15,44,19,46],[15,45,19,47,"set"],[15,48,19,50],[15,50,19,52,"get"],[15,53,19,55],[15,59,19,61],[16,4,20,2,"user"],[16,8,20,6],[16,10,20,8],[16,14,20,12],[17,4,21,2,"session"],[17,11,21,9],[17,13,21,11],[17,17,21,15],[18,4,22,2,"loading"],[18,11,22,9],[18,13,22,11],[18,18,22,16],[19,4,23,2,"initialized"],[19,15,23,13],[19,17,23,15],[19,22,23,20],[20,4,25,2,"initialize"],[20,14,25,12],[20,16,25,14],[20,22,25,14,"initialize"],[20,23,25,14],[20,28,25,26],[21,6,26,4],[21,10,26,8],[22,8,27,6,"set"],[22,11,27,9],[22,12,27,10],[23,10,27,12,"loading"],[23,17,27,19],[23,19,27,21],[24,8,27,26],[24,9,27,27],[24,10,27,28],[26,8,29,6],[27,8,30,6],[27,14,30,12],[28,10,30,14,"data"],[28,14,30,18],[28,16,30,20],[29,12,30,22,"session"],[30,10,30,30],[31,8,30,32],[31,9,30,33],[31,12,30,36],[31,18,30,42,"supabase"],[31,30,30,50],[31,31,30,50,"supabase"],[31,39,30,50],[31,40,30,51,"auth"],[31,44,30,55],[31,45,30,56,"getSession"],[31,55,30,66],[31,56,30,67],[31,57,30,68],[32,8,32,6],[32,12,32,10,"session"],[32,19,32,17],[32,21,32,19],[33,10,33,8,"set"],[33,13,33,11],[33,14,33,12],[34,12,33,14,"user"],[34,16,33,18],[34,18,33,20,"session"],[34,25,33,27],[34,26,33,28,"user"],[34,30,33,32],[35,12,33,34,"session"],[36,10,33,42],[36,11,33,43],[36,12,33,44],[37,8,34,6],[39,8,36,6],[40,8,37,6,"supabase"],[40,20,37,14],[40,21,37,14,"supabase"],[40,29,37,14],[40,30,37,15,"auth"],[40,34,37,19],[40,35,37,20,"onAuthStateChange"],[40,52,37,37],[40,53,37,38],[40,54,37,39,"_event"],[40,60,37,45],[40,62,37,47,"session"],[40,69,37,54],[40,74,37,59],[41,10,38,8,"set"],[41,13,38,11],[41,14,38,12],[42,12,38,14,"user"],[42,16,38,18],[42,18,38,20,"session"],[42,25,38,27],[42,27,38,29,"user"],[42,31,38,33],[42,35,38,37],[42,39,38,41],[43,12,38,43,"session"],[44,10,38,51],[44,11,38,52],[44,12,38,53],[45,8,39,6],[45,9,39,7],[45,10,39,8],[46,6,41,4],[46,7,41,5],[46,8,41,6],[46,15,41,13,"error"],[46,20,41,18],[46,22,41,20],[47,8,42,6,"console"],[47,15,42,13],[47,16,42,14,"error"],[47,21,42,19],[47,22,42,20],[47,50,42,48],[47,52,42,50,"error"],[47,57,42,55],[47,58,42,56],[48,6,43,4],[48,7,43,5],[48,16,43,14],[49,8,44,6,"set"],[49,11,44,9],[49,12,44,10],[50,10,44,12,"loading"],[50,17,44,19],[50,19,44,21],[50,24,44,26],[51,10,44,28,"initialized"],[51,21,44,39],[51,23,44,41],[52,8,44,46],[52,9,44,47],[52,10,44,48],[53,6,45,4],[54,4,46,2],[54,5,46,3],[55,4,48,2,"signInWithPhone"],[55,19,48,17],[55,21,48,19],[55,27,48,26,"phone"],[55,32,48,39],[55,36,48,44],[56,6,49,4],[56,10,49,8],[57,8,50,6,"set"],[57,11,50,9],[57,12,50,10],[58,10,50,12,"loading"],[58,17,50,19],[58,19,50,21],[59,8,50,26],[59,9,50,27],[59,10,50,28],[60,8,51,6],[60,14,51,12],[61,10,51,14,"error"],[62,8,51,20],[62,9,51,21],[62,12,51,24],[62,18,51,30,"supabase"],[62,30,51,38],[62,31,51,38,"supabase"],[62,39,51,38],[62,40,51,39,"auth"],[62,44,51,43],[62,45,51,44,"signInWithOtp"],[62,58,51,57],[62,59,51,58],[63,10,51,60,"phone"],[64,8,51,66],[64,9,51,67],[64,10,51,68],[65,8,52,6],[65,15,52,13],[66,10,52,15,"error"],[66,15,52,20],[66,17,52,22,"error"],[67,8,52,44],[67,9,52,45],[68,6,53,4],[68,7,53,5],[68,8,53,6],[68,15,53,13,"error"],[68,20,53,18],[68,22,53,20],[69,8,54,6],[69,15,54,13],[70,10,54,15,"error"],[70,15,54,20],[70,17,54,22,"error"],[71,8,54,37],[71,9,54,38],[72,6,55,4],[72,7,55,5],[72,16,55,14],[73,8,56,6,"set"],[73,11,56,9],[73,12,56,10],[74,10,56,12,"loading"],[74,17,56,19],[74,19,56,21],[75,8,56,27],[75,9,56,28],[75,10,56,29],[76,6,57,4],[77,4,58,2],[77,5,58,3],[78,4,60,2,"verifyOTP"],[78,13,60,11],[78,15,60,13],[78,21,60,13,"verifyOTP"],[78,22,60,20,"phone"],[78,27,60,33],[78,29,60,35,"token"],[78,34,60,48],[78,39,60,53],[79,6,61,4],[79,10,61,8],[80,8,62,6,"set"],[80,11,62,9],[80,12,62,10],[81,10,62,12,"loading"],[81,17,62,19],[81,19,62,21],[82,8,62,26],[82,9,62,27],[82,10,62,28],[83,8,63,6],[83,14,63,12],[84,10,63,14,"data"],[84,14,63,18],[85,10,63,20,"error"],[86,8,63,26],[86,9,63,27],[86,12,63,30],[86,18,63,36,"supabase"],[86,30,63,44],[86,31,63,44,"supabase"],[86,39,63,44],[86,40,63,45,"auth"],[86,44,63,49],[86,45,63,50,"verifyOtp"],[86,54,63,59],[86,55,63,60],[87,10,64,8,"phone"],[87,15,64,13],[88,10,65,8,"token"],[88,15,65,13],[89,10,66,8,"type"],[89,14,66,12],[89,16,66,14],[90,8,67,6],[90,9,67,7],[90,10,67,8],[91,8,69,6],[91,12,69,10,"data"],[91,16,69,14],[91,17,69,15,"session"],[91,24,69,22],[91,26,69,24],[92,10,70,8,"set"],[92,13,70,11],[92,14,70,12],[93,12,70,14,"user"],[93,16,70,18],[93,18,70,20,"data"],[93,22,70,24],[93,23,70,25,"user"],[93,27,70,29],[94,12,70,31,"session"],[94,19,70,38],[94,21,70,40,"data"],[94,25,70,44],[94,26,70,45,"session"],[95,10,70,53],[95,11,70,54],[95,12,70,55],[96,8,71,6],[97,8,73,6],[97,15,73,13],[98,10,73,15,"error"],[98,15,73,20],[98,17,73,22,"error"],[99,8,73,44],[99,9,73,45],[100,6,74,4],[100,7,74,5],[100,8,74,6],[100,15,74,13,"error"],[100,20,74,18],[100,22,74,20],[101,8,75,6],[101,15,75,13],[102,10,75,15,"error"],[102,15,75,20],[102,17,75,22,"error"],[103,8,75,37],[103,9,75,38],[104,6,76,4],[104,7,76,5],[104,16,76,14],[105,8,77,6,"set"],[105,11,77,9],[105,12,77,10],[106,10,77,12,"loading"],[106,17,77,19],[106,19,77,21],[107,8,77,27],[107,9,77,28],[107,10,77,29],[108,6,78,4],[109,4,79,2],[109,5,79,3],[110,4,81,2,"signOut"],[110,11,81,9],[110,13,81,11],[110,19,81,11,"signOut"],[110,20,81,11],[110,25,81,23],[111,6,82,4],[111,10,82,8],[112,8,83,6,"set"],[112,11,83,9],[112,12,83,10],[113,10,83,12,"loading"],[113,17,83,19],[113,19,83,21],[114,8,83,26],[114,9,83,27],[114,10,83,28],[115,8,84,6],[115,14,84,12,"supabase"],[115,26,84,20],[115,27,84,20,"supabase"],[115,35,84,20],[115,36,84,21,"auth"],[115,40,84,25],[115,41,84,26,"signOut"],[115,48,84,33],[115,49,84,34],[115,50,84,35],[116,8,85,6,"set"],[116,11,85,9],[116,12,85,10],[117,10,85,12,"user"],[117,14,85,16],[117,16,85,18],[117,20,85,22],[118,10,85,24,"session"],[118,17,85,31],[118,19,85,33],[119,8,85,38],[119,9,85,39],[119,10,85,40],[120,6,86,4],[120,7,86,5],[120,8,86,6],[120,15,86,13,"error"],[120,20,86,18],[120,22,86,20],[121,8,87,6,"console"],[121,15,87,13],[121,16,87,14,"error"],[121,21,87,19],[121,22,87,20],[121,39,87,37],[121,41,87,39,"error"],[121,46,87,44],[121,47,87,45],[122,6,88,4],[122,7,88,5],[122,16,88,14],[123,8,89,6,"set"],[123,11,89,9],[123,12,89,10],[124,10,89,12,"loading"],[124,17,89,19],[124,19,89,21],[125,8,89,27],[125,9,89,28],[125,10,89,29],[126,6,90,4],[127,4,91,2],[127,5,91,3],[128,4,93,2,"updateProfile"],[128,17,93,15],[128,19,93,17],[128,25,93,24,"name"],[128,29,93,36],[128,33,93,41],[129,6,94,4],[129,12,94,10],[130,8,94,12,"user"],[131,6,94,17],[131,7,94,18],[131,10,94,21,"get"],[131,13,94,24],[131,14,94,25],[131,15,94,26],[132,6,95,4],[132,10,95,8],[132,11,95,9,"user"],[132,15,95,13],[132,17,95,15],[133,6,97,4],[133,10,97,8],[134,8,98,6],[134,14,98,12,"supabase"],[134,26,98,20],[134,27,98,20,"supabase"],[134,35,98,20],[134,36,98,21,"from"],[134,40,98,25],[134,41,98,26],[134,56,98,41],[134,57,98,42],[134,58,98,43,"upsert"],[134,64,98,49],[134,65,98,50],[135,10,99,8,"id"],[135,12,99,10],[135,14,99,12,"user"],[135,18,99,16],[135,19,99,17,"id"],[135,21,99,19],[136,10,100,8,"name"],[136,14,100,12],[137,10,101,8,"updated_at"],[137,20,101,18],[137,22,101,20],[137,26,101,24,"Date"],[137,30,101,28],[137,31,101,29],[137,32,101,30],[137,33,101,31,"toISOString"],[137,44,101,42],[137,45,101,43],[138,8,102,6],[138,9,102,7],[138,10,102,8],[139,6,103,4],[139,7,103,5],[139,8,103,6],[139,15,103,13,"error"],[139,20,103,18],[139,22,103,20],[140,8,104,6,"console"],[140,15,104,13],[140,16,104,14,"error"],[140,21,104,19],[140,22,104,20],[140,45,104,43],[140,47,104,45,"error"],[140,52,104,50],[140,53,104,51],[141,6,105,4],[142,4,106,2],[143,2,107,0],[143,3,107,1],[143,4,107,2],[143,5,107,3],[144,0,107,4],[144,3]],"functionMap":{"names":["<global>","create$argument_0","initialize","supabase.auth.onAuthStateChange$argument_0","signInWithPhone","verifyOTP","signOut","updateProfile"],"mappings":"AAA;8CCkB;cCM;sCCY;ODE;GDO;mBGE;GHU;aIE;GJmB;WKE;GLU;iBME;GNa;EDC"},"hasCjsExports":false},"type":"js/module"}]}